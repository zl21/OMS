<template>
  <div class="logisticsArea custom-main" v-loading="loading">
    <div class="custom-btn">
      <OmsButton :btn-config="btnConfig" />
    </div>
    <div class="customized-detail-main">
      <div class="tableTop">
        <Collapse v-model="openDefault">
          <Panel name="1">
            <!-- 基本信息 -->
            {{ $it('com.baseInformation') }}
            <p slot="content">
              <OmsForm :form-config="information" />
            </p>
          </Panel>
        </Collapse>
      </div>
      <div v-if="this.$route.params.customizedModuleId !== 'New'" class="salesTable custom-table">
        <!-- tab切换 -->
        <OmsLabel :label-default-value="labelDefaultValue" :label-list="labelList" class="jordanLabel" />
        <!-- tree -->
        <div class="tableBox">
          <div class="tableLeft">
            <div class="retrieveBox">
              <!-- <span class="retrieveTitle">检索</span> -->
              <span class="retrieveTitle">{{ $it('com.searching') }}</span>
              <Input v-model="name" :expand="false" class="retrieve" @on-enter="enter(name)">
                <Icon slot="suffix" type="ios-search" @click="enter(name)" />
              </Input>
            </div>
            <div class="treeBox">
              <Tree id="tree" :data="treeData1" :disabled="true" :query="query" show-checkbox @on-select-change="selectChange" />
            </div>
          </div>
          <div class="tableRight" v-loading="tableLoading">
            <div class="setTree">
              <div class="retrieveBox">
                <!-- <span class="retrieveTitle">检索</span> -->
                <span class="retrieveTitle">{{ $it('com.searching') }}</span>
                <Input v-model="name2" :expand="false" class="retrieve" @on-enter="enter2(name2)">
                  <Icon slot="suffix" type="ios-search" @click="enter2(name2)" />
                </Input>
              </div>
              <Checkbox v-model="single" style="margin: 0 0 7px 32px" @on-change="checkAll(single)">
                <!-- 全选 -->
                {{ $it('com.selectAll') }}
              </Checkbox>
              <div class="treeBox2">
                <Tree id="tree2" :data="treeData2" :query="query2" show-checkbox @on-select-change="selectChange" @on-toggle-expand="toggleExpand" />
              </div>
            </div>
            <div class="synchronous">
              <div class="iconButton">
                <Button size="small" @click="synchronous"> >> </Button>
              </div>
            </div>

            <div class="actionPermissionsTable">
              <div class="scrollThead">
                <table>
                  <thead>
                    <tr>
                      <th class="paddingleft18" style="width: 18%">
                        <!-- 省 -->
                        {{ $it('com.province') }}
                      </th>
                      <th style="width: 18%">
                        <!-- 市 -->
                        {{ $it('com.city') }}
                      </th>
                      <th style="width: 18%">
                        <!-- 区 -->
                        {{ $it('com.region') }}
                      </th>
                      <th style="width: 19%">
                        <!-- 排除区域 -->
                        {{ $it('com.exclude_region') }}
                      </th>
                      <th style="width: 19%">
                        <input v-model="isDelivery" type="checkbox" @change="handleAllChange(isDelivery)" />
                        <!-- 是否送达 -->
                        {{ $it('com.delivered_or_not') }}
                      </th>
                    </tr>
                  </thead>
                </table>
              </div>
              <div class="scrollTable">
                <table>
                  <tbody>
                    <tr v-for="(item, index) in dataArr" :key="index">
                      <td class="paddingleft18" style="width: 18%">
                        {{ item.CP_C_REGION_PROVINCE_ENAME }}
                      </td>
                      <td style="width: 18%">
                        {{ item.CP_C_REGION_CITY_ENAME }}
                      </td>
                      <td style="width: 18%">
                        {{ item.CP_C_REGION_AREA_ENAME }}
                      </td>
                      <td style="width: 19%">
                        <input v-model="item.EXCLUSION_AREA" class="borderInput" type="text" />
                      </td>
                      <td style="width: 19%">
                        <input v-model="item.IS_ARRIVE" type="checkbox" @change="isDeliveryChange()" />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- 弹框 -->
          </div>
        </div>
      </div>
      <!--单据状态图片展示 -->
      <WaterMark v-if="statusName !== ''" class="omsWaterMark" :text="statusName"/>
    </div>
    <!-- 导入 -->
    <OmsDialog
      :closable="importTable.closable"
      :component-data="importTable.componentData"
      :draggable="importTable.draggable"
      :exclude-string="importTable.excludeString"
      :keep-alive="importTable.keepAlive"
      :mask="importTable.mask"
      :mask-closable="importTable.maskClosable"
      :name="importTable.name"
      :scrollable="importTable.scrollable"
      :title="importTable.confirmTitle"
      :title-align="importTable.titleAlign"
      :transfer="importTable.transfer"
      :url="importTable.url"
      :width="importTable.width"
    />
    <!-- 导出 -->
    <Modal v-model="warningModal" :mask="true" :title="$it('mT.tips')" width="420" @on-ok="warningOk">
      <!-- <p>是否确认导出？</p> -->
      <p>{{ $it('tip.y2') }}</p>
    </Modal>
  </div>
</template>

<script>
import logisticsArea from '@/js/pages/strategyPlatform/logisticsStrategy/logisticsArea';

export default logisticsArea;
</script>


<style lang="less">
@import '~@/css/pages/strategyPlatform/logisticsStrategy/logisticsArea.less';
</style>
